# ============================================
# WORKFLOW DEMO - GITHUB ENVIRONMENTS
# Chá»n environment (dev/uat) tá»« dropdown
# ============================================

name: Demo Environments

on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Chá»n mÃ´i trÆ°á»ng'
        required: true
        default: 'dev'
        type: choice
        options:
          - dev
          - uat

jobs:
  test:
    name: ğŸ§ª Test trÃªn ${{ inputs.environment }}
    runs-on: ubuntu-latest
    
    # ğŸ“Œ Sá»¬ Dá»¤NG ENVIRONMENT - sáº½ láº¥y secrets/vars cá»§a env Ä‘Æ°á»£c chá»n
    environment: ${{ inputs.environment }}

    steps:
      - name: ğŸ“‹ ThÃ´ng tin chung
        run: |
          echo "=========================================="
          echo "ğŸ“Œ THÃ”NG TIN WORKFLOW"
          echo "=========================================="
          echo "ğŸŒ¿ Branch: ${{ github.ref_name }}"
          echo "ğŸ”§ Environment: ${{ inputs.environment }}"
          echo "ğŸ‘¤ Triggered by: ${{ github.actor }}"
          echo "=========================================="

      - name: ğŸ” In Secrets vÃ  Variables cá»§a Environment
        run: |
          echo ""
          echo "ğŸ”’ SECRETS Cá»¦A ENV '${{ inputs.environment }}':"
          echo "   MY_PASSWORD: ${{ secrets.MY_PASSWORD }}"
          echo ""
          echo "ğŸŒ VARIABLES Cá»¦A ENV '${{ inputs.environment }}':"
          echo "   MY_WEBSITE: ${{ vars.MY_WEBSITE }}"
          echo ""

      - name: âœ… Káº¿t quáº£
        run: |
          echo "=========================================="
          echo "âœ… Test trÃªn ${{ inputs.environment }} hoÃ n táº¥t!"
          echo "=========================================="