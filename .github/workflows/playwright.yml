name: Demo Secrets vs Vars
on: workflow_dispatch # Cháº¡y báº±ng nÃºt báº¥m tay cho nhanh

jobs:
  debug:
    runs-on: ubuntu-latest
    steps:
      # BÆ°á»›c 0: Checkout code (cáº§n Ä‘á»ƒ cÃ³ file TS)
      - name: ğŸ“¥ Checkout code
        uses: actions/checkout@v4

      # BÆ°á»›c 1: CÃ i Node.js
      - name: ï¿½ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      # BÆ°á»›c 2: CÃ i dependencies
      - name: ğŸ“¦ Install dependencies
        run: npm ci

      # BÆ°á»›c 3: Demo hiá»ƒn thá»‹ trá»±c tiáº¿p
      - name: ğŸ” So sÃ¡nh hiá»ƒn thá»‹ Secrets vs Vars
        run: |
          echo "=========================================="
          echo "ğŸ“Œ DEMO: SECRETS vs VARIABLES"
          echo "=========================================="
          echo ""
          echo "1. Äá»c Variables (CÃ´ng khai):"
          echo "   MY_WEBSITE = ${{ vars.MY_WEBSITE }}"
          echo ""
          echo "2. Äá»c Secrets (BÃ­ máº­t - GitHub tá»± che):"
          echo "   MY_PASSWORD = ${{ secrets.MY_PASSWORD }}"
          echo ""
          echo "=========================================="

      # BÆ°á»›c 4: Cháº¡y file TypeScript Ä‘á»ƒ Ä‘á»c ENV
      - name: ğŸš€ Cháº¡y file TypeScript Ä‘á»c ENV
        run: npx tsx tests/lessons/print-env.ts
        env:
          # Truyá»n tá»« GitHub Secrets/Vars vÃ o biáº¿n mÃ´i trÆ°á»ng
          # BÃªn trÃ¡i: TÃªn biáº¿n mÃ  code TS sáº½ Ä‘á»c
          # BÃªn pháº£i: Nguá»“n dá»¯ liá»‡u tá»« GitHub
          MY_PASSWORD: ${{ secrets.MY_PASSWORD }}
          MY_WEBSITE: ${{ vars.MY_WEBSITE }}